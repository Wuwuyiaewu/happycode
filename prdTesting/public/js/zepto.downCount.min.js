(function(e){e.fn.downCount=function(t,n){function r(){var e=new Date(o.date),t=a(),r=e-t;if(r<0)return clearInterval(d),void(n&&"function"==typeof n&&n());var f=1e3,s=60*f,u=60*s,l=24*u,h=Math.floor(r/l),c=24*h+Math.floor(r%l/u),g=Math.floor(r%u/s),m=Math.floor(r%s/f);h=String(h).length>=2?h:"0"+h,c=String(c).length>=2?c:"0"+c,g=String(g).length>=2?g:"0"+g,m=String(m).length>=2?m:"0"+m;var v=1===h?"day":"days",x=1===c?"hour":"hours",D=1===g?"minute":"minutes",w=1===m?"second":"seconds";i.find(".hours").text(c),i.find(".minutes").text(g),i.find(".seconds").text(m),i.find(".days_ref").text(v),i.find(".hours_ref").text(x),i.find(".minutes_ref").text(D),i.find(".seconds_ref").text(w)}var o=e.extend({date:null,offset:null},t);o.date||e.error("Date is not defined."),Date.parse(o.date)||e.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.");var i=this,f=new Date(o.currentTime).getTime(),a=function(){f+=1e3;var e=new Date(f),t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+36e5*o.offset);return n},d=setInterval(r,1e3)}})(Zepto);